<h1>Sign Up</h1>

<div class="container">
<form #signupForm="ngForm" (ngSubmit)="onSubmit()" >

    <label for="firstname">First Name</label>
    <input type="text" 
    id="firstname" 
    name="firstname" 
    class="form-control"
    #firstname="ngModel"
    [(ngModel)]="this.userService.newUser.firstname"
    required minlength="1" pattern="^[a-zA-Z]+$" />
    <div *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)" class="alert">
        <div *ngIf="firstname.errors?.['required']">
            First Name is required
        </div>
        <div *ngIf="firstname.errors?.['pattern']">
            Invalid Name 
        </div>
    </div>
    <br/>

    <label for="lastname">Last Name</label>
    <input type="text" 
    id="lastname" 
    name="lastname" 
    class="form-control"
    #lastname="ngModel"
    [(ngModel)]="this.userService.newUser.lastname"
    pattern="^[a-zA-Z]+$" />
    <div *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)" class="alert">
        <div *ngIf="lastname.invalid && lastname.errors?.['pattern']">
            Invalid Name 
        </div>
    </div>
    <br/>

    <label for="email">Email</label>
    <input type="email" 
    id="email" name="email" 
    class="form-control"
    #email="ngModel"
    [(ngModel)]="this.userService.newUser.email"
    required pattern='^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$'/>
    <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert">
        <div *ngIf="email.errors?.['required']">
            Email is required
        </div>
        <div *ngIf="email.errors?.['pattern']">
            Invalid Email 
        </div>
    </div>
    <br/>

    <label for="password">Password</label>
    <input type="password" 
    id="password" 
    name="password" 
    class="form-control"
    #password="ngModel"
    [(ngModel)]="this.userService.newUser.password"
    required minlength="5" pattern='^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z0-9\d@$!%*?&]{5,}$' />
    <div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert">
        <div *ngIf="password.errors?.['required']">
            Password is required
        </div>
        <div *ngIf="password.errors?.['minlength']">
            Password must be atleast 5 characters long
        </div>
        <div *ngIf="password.errors?.['pattern']">
            Password must contain lower case, upper case, a number and a special character(@$!%*?&)
        </div>
    </div>
    <br/>
	
    <button type="submit" >Submit</button>
    <button type="button" (click)="resetForm()">Reset</button>

</form>

</div>